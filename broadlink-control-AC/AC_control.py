import broadlink
import time
import firebase_admin
from firebase_admin import credentials
from firebase_admin import db


#TURN_OFF= "2600bc01703a0d100c2d0c100d100c100d100c110c100d100d0f0d100d100c100d2c0d100c100e0f0c110c100d100c100e2b0d2c0d2c0d100c100d2c0d100c110c100d100c100e0f0c100d100d100c100d100c100d100d100c100d100c110c100d100c100d100c110c100d100c100d100d100c100d100c100d2c0d2c0d100c100d100d100c100d000147703b0c100d2c0d100c110c100d100c100d100c110d0f0d100c100d100c2d0c100d100d100c100d100c110c100d2c0d2c0d2c0c110c100d2c0d100c100d100c100d100d100c100d100c100d100d100c100d100c100d100c110c2d0c100d2c0d100c100d100c100d2c0d2c0d100c2d0d100c100d100c100d100c110c100d100c100d2c0e2b0d2c0d2c0d2c0d2c0e0f0c2d0d0f0d100c2d0c100d2c0d100d100c100d100c100d100c110c100d100c100d100c110c100d2c0d2c0d2c0d100c100d100c110c100d100c100d100c100d2c0d2c0d2c0d100c110c100d100c100d100d100c100d100c100d100c110c100d100c100d100c2d0c100d100d100c100d100c100d2c0d100d100c100d100c110c100d100c100d100d100c100d100c100d100d100c100d100c2d0c100e0f0d2c0d2c0d100c2d0c000d05"
#TURN_ON = "2600bc016f3b0d100c2c0d100d100c100d100c100d100d100c100e0f0c110c100d2c0e0f0c100d100d0f0e0f0d100c100d2c0d2c0d2c0d100c100d2c0d100d100c100d100c100d100d100d0f0d100c100d100c110c100d100c100d100c110d0f0d100c100d100d100c100d100c100d100d100c100d100c100d2c0d2c0d100d100c100e0f0d0f0d0001486f390f100c2c0d100d100c100d100c100d100e0f0c100d100c110c100d2c0d100c100e0f0c100d100d100c100d2c0d2c0d2c0d100c100d2c0d100d100c100d100d0f0d100d100c100d100c100d100c100d100d2c0d100c100d2c0d100c2d0c100d100d100c100d2c0d2c0d100c2d0c100d100d0f0d100d100c100d100c110c100d2c0d2c0d2c0d2c0d2b0e2c0d100c2d0d0f0d110b2d0c100d2c0d100c110c100d100c100d100c110c100e0f0c100d100c110c100d2c0d2c0d2c0d100c100d100c110c100d100c100d100c100d2c0e2b0d2c0d100c100d100e0f0c100d100c100d100e0f0c100d100d100c100d100c100d100d2c0d100c100d100c100d100c100d2d0c100d100c100d100d100c100d100c110c100d100c100d100d100c100d100d100c2c0d2c0d100d100c2d0c2d0d0f0d2c0d000d05"
#TEMP_UP = "2600bc0171390d100c2d0c100d100d100c100d100c100d100d100c100d100c100d2c0e0f0c110c100d100c100d100d100c2c0e2b0d2c0d100c110c2d0c100d100c100d100c110c100d100c100d100c110c100e0f0c100d100c100d100d100d0f0d100c110c100d100c100d100c110c100d100c100d100c110c2c0d2c0d100d100c100d100c100d0001486f3b0c110c2c0d100d100c100d100c100d100d100c100d100c110c100d2c0d100c100d100c100d100c110c100d2c0d2c0c2d0d100c100d2c0d100c110c100c110c100d100c100d100c110c100d100c100d100c2d0c100d100d2c0d100c2d0c100d100c100d100c2d0c2d0c110c2c0d100d100c100d100c100d100d100c100d100c2d0c2d0c2d0d2c0c2d0d2c0c100d2c0d100c100d2c0e0f0c2d0c110c100d100c100d100c110c100d100c100d100c110c100d100c2d0d2c0c2d0c100d100c100d100d100c100d100c100d100c2d0c2d0c2d0c100d100d100c100d100c100d100c110c100d100c100d100d100c100d100c100d2c0d100c110c100d100c100e0f0c2d0c110c100d10100c0d100c110c100d100c110c100d100c100d100c110c100d100c2d0c2d0c100d100d2c0c2d0c100d2c0d000d05"
#TEMP_DOWN = "2600bc016f3b0c100d2c0d100d100c100d100c100d100d100c100d100c100d100c2d0d100c100d100c100e0f0c110c100d2c0d2c0c2d0d100c100d2c0d100c100d100c110c100d100c100d100c110c100d100c100d100c110d0f0d100c100d100c110c100d100c100d100c100d100d100c100d100c110d0f0d2c0d2c0c110c100d100c100d100c000148713a0c100d2c0d100c100d100c110c100c110c100d100c100d100d100c2d0c100d100c100d100d100c100d100c2d0d2c0c2d0d0f0d100c2d0d0f0d100d100c100d100c100d100d100c100d100c100d100c110c2d0c100d100c2d0d0f0d2c0d100c110c100c2d0d100c2d0d0f0d2c0d100c100d100c110c100d100c100d100c100d2d0c2c0d2c0d2c0d2c0d2c0d100c2d0c110c100d2c0d100c2d0d0f0d100c100d100c110c100d100c100e0f0c110c100d100c100d2c0e2b0e2b0d100c100d100c110c100d100c100d100d100c2c0d2c0d2c0d100d100c100d100c100d100c110c100d100c100d100c110c100d100c100d100d2c0c110c100d100c100d100c110c2d0c100d100c100d100d100c100d100c110c100d100c100d100d100c100d100c100d2c0d100c110c100d2c0d2c0d100c2d0c000d05"
TURN_OFF= "2600bc016d3d0b110d2d0a100b130c100d100a130b120b100d110c1009130a15092a10100b110b130a1209130a120d0f0c2e0b2d09310c110b120a2d0c1209150a110b110a130b100d100d110d0f0b120a120c120b0f0e100a110d110a110c100d100e0f0b120b1408120c100b120a130a120b110c120b100d2d0a2e0d100c120b100b120b120a0001586f3a0d100d2d0d100c110b100c1109130d110b110a110d0f0c12091409300b120a120a130b100d100b120b110c2d09310a2e0d0f0c110a2f0b110b130a100a140a130b120a110d110c0f0c110b120b130a130a1209110d100e2c0a120b130a12091409130a2d09120e11092e0d2d0c110c100c110b120a130a110d110a110d0f0c2d0d2d0d2c0d2c0c2e0b100c2e0d100a2e0b1409130a110c100b120b1309120b120b110b120b110b110b120c100a130b120a130a2f0a2e0b2e0b110b130a120b120a130a110d0f0c1209130b2d0e2b0c2e0b100d100c120b100b120a130d0e0d110a140a1009150b100a140a120b130a100e2b0c110b100c120b110c1607100c2d0a140a120b110b120b110c100c1209130915091409140a0f0d110d100b110a120c100a300c2c0b2e0f2c09110c2d0c2d0c000d05"
#turn on at 22 celsius
TURN_ON = "2600bc01703b0e0e0d2c0d100d100d100c100d100d100e0e0d100d100e0f0e0e0d2c0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e2b0e2b0f2a0f0e0e0f0e2b0e0f0e0e0f0e0e0f0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e2b0e2b0e0f0e0e0f0e0e0f0e0e0f00014772390e0e0f2a0f0e0e0f0e0f0e0e0e0f0e0f0e0e0f0e0e0f0e0e0f0e0e2b0e0f0e0f0e0e0e0f0e0f0c100f0e0d2c0e2b0e2b0f0e0e0f0c2d0e0f0e0e0d100d100e0e0d100d100c100d100d100c110c100d100c2d0e0f0e0e0d2d0e2b0c2d0c100d100d100c110c2d0c2d0c110c2d0c100d100d100c100d100d100c100d100d100c2d0d100c100d2d0c100d100d2c0d100c2d0d100c2d0c2d0c110c100d100d100c100d100d100c100d100d100c110c100d100d100c2d0c2d0c2d0d100c100d100d100c100d100d100c110c100d2c0d2c0d2d0c100d100d100c100d100d100c100d100d100c100d100d100d100c100d100c110c2d0c100d100d100c110c100d100c2d0d100c110c100d100d100c100d100d100c110c100d100c110c100d100d100c110c100d100c2d0c110c100d100d100c100d000d05"
TEMP_UP = "2600bc016c3f0a130a2f0a110b110d110a110a130b120c100b120b110b120b120b2d0e0f0c100b120a140a110b110c100e2c09310a2d0c120b100e2c0a130a120b130a1109130a1409130a1109140d100a1409130a120a120b120a120b130a110b120b1209130a130a130a110a130b110b120a120f0e0a120c2d0b2d0e0f0c110c100b130a110c00015771390c130a2d0d100b110b130a130a1309100d110b120b120a110a140a2f0a100d100c120b100d100d100b100d2d0c2e0a2f0a110d0f0e2c0a1408140b100d110c100a140a120a110c100d100d110a120b110b2e0c100c120b3008120c110a120b130a110b100c2e0a130b2c0d2e0b120b100b120a130b110a130b1508100d100b2f0a2e0c2d0b2f0a2d0c120b2e0b120a2e0c100c110a130b130b110a110b1209140a130a100d110d100b110b120b1209120c100d2d0b2e0a2e0d100d1108150a130a1309100d100b1309140e290c2d0b2e0d110c100b110914091508110d100d0f0e1009140a120a15091209150b0f0c100d2b0c120d100a140a100c130a100b2f0c100c130a100c100a140a110c100c1309120d100c110a130a130a100d120a110b2d0d120b100c100b130a2d0c2d0c2d0d000d05"
TEMP_DOWN = "2600bc016f3c0b110c2d0c110b110c1209120b110c120b100c110d100c100d100b2d0c100d100d100d110a1209130b110c2c0e2c0f2a0b120d0e0f2a0e100c1009140a120d100c110b120a110c110a120c110c100c110b120b110b120c1109120a1509110b130b110c110b100c120a130a110b120c100d100d2b0c31091009140b100d110c0f0c0001586f3c0d100c2c0c100c110c110c100a130b120b110b120a110d100d100b2e09130c100c110d0f0d0f0e100b100e2c0c2f0a2d0a130b100d2c0d100f0e08150b110a120c100e100d100d100a110c100c100e1109300a110d110a2e0a130a130a120c100c100d100b110c2d0d100c2d0c110a120c1009140b120b100d110c0f0c110a2f0d2b0f2c08310b2d0d100c2d0c100c2e0c100a140a110b120c100b120c100c120b110a1706120b110b110c100c110c120a110a2f0b2f0b2d0d100b100d110b1209130a130b110c100d100b2e0b2f092e0c110d110a120b110b120c0f0b120c100c110d100d0f0d100a120e100a110d100b2e0b12091509110d10091308150a2f0b110d100c110b110c100d0f0d100c110a1707110b120c100c100a140a120b110c2d0a120c2d0c100d2d0c110a2e0d2c0a000d05"
TEMP_16 = "2600bc016f3b0d100c2d0d100c110c110c100c100d100d100d100c100d100d100d2c0d0f0d110c100c110c100d100d100c2d0c2d0c2d0d100c110e2a0d100d100d100c100d100d100c100d100d100c110d0f0d110b110c100c110c110c100d100c110c110d0f0d100b110d100d110b110c100d110c100c110d2b0f2a0d100d100c110c100d100d000148703b0e0f0c2d0d100c100d100d100c100d100d100c100d100d100c110c2d0d0f0d100d100c100d110d0f0c110c2d0c2d0c2d0d100c100d2c0d100d100c110c100d100d100c100d100d100c110c100d100c110c2d0c100d100c2d0d2c0d2c0d110c100c100d100d110b110d0f0d2c0e0f0d100c100c110d100d100c100d110c100c2d0c2d0c2d0d2c0d2c0d100c2d0e0f0c2d0d2c0d100c2d0c2d0d100c100e100e0e0c110c100e100c100d0f0d110d0f0c100d100d2c0d2c0e2b0e0f0e0f0c110c110c100d110b100d100d110b2d0c2d0d2c0d100c100d100d100d100c100d100c120c0f0d100d100c100d100d100c100e0f0d2c0e0f0c110c110c100d100c100d2d0c100d100d100b120c110c100c100d100d100d110b100d100d100c110c100d100d100c2d0d0f0d2d0d100d0f0d100c100d000d05"
TEMP_17 = "2600bc01703b0c110c2d0d0f0d100d100c100d100d100c110c100d100c110c100d2c0d100d100c110c100d100c110c100e2b0d2c0d2d0c100d100c2d0d100d0f0d100d100c110c100d100c110c100d100c110c100d100d100c100d100c110c110c100d100c110d0f0d100c110c100d100c110c100d100d100c2d0c2d0d100c100d100c110c100d00014971390e0f0d2c0d100d100c100d100c110c100d100c110c100d100d100c2d0c100d100d100c110c100d100d100c2d0c2d0c2d0d100c100d2c0d100d100c110c100d100d100c100d100c110c100d100d100c100d2d0c100d100c2d0d2c0d2c0d100d100c100d2c0e0f0d100c100d2d0c100d100d100c100e0f0d100c100d100d100c2d0d2c0d2c0e2b0d2d0c100e2b0d100c2d0d2c0d100c2d0c2d0d100c110c100d100c110c100d100c110c100d100d100c110c100d2c0e2b0d2d0c100d100c110c100d100c110c100d100d100c2d0c2d0c2d0d100c100d100d100c100d100d100c110c100d100c110c100d100c110c100d100c2d0d100c100d100d100c110c100d2c0d100d100c100d100d100c110c100d100d100c100d100d100c110d0f0d100c110c100e0f0c2d0d2c0d100d100c100d100d000d05"
TEMP_18 = "2600bc01703b0c100d2c0d100c110c100d100c110c100d100d100c100d100d100c2d0d100d0f0e0f0c110c100d100c110c2d0c2d0d2c0c110d0f0d2c0d100d100d0f0d100d100c110c100d100c110c100d100d100c100d100c110c100d100c110c100d100c110c100d100c110c100d100d100c100d100d100c2d0c2d0d100c100d100c110c100d000148703b0d100c2d0c110d0f0d100d100c100d100d100c100d100d100c100d2d0c100d100d100c100d100c110d0f0d2c0d2c0e2c0c100d100c2d0c110c100e0f0d100c110c100d100c100d100d100c110c100d100c2d0c110c100d2c0d2d0c2d0d0f0d100c110c100d2c0d100d100c2d0c110c100d100c110c100d100c110c100d100c2d0d2c0e2b0d2d0f2a0c100d2c100d0c2d0e2b0d100c2d0d2c0e0f0c110c100d100c110c100d100c110c100d100c110c100d100d2c0c2d0d2c0d100d100c100d100d100c100d100d100c100e2c0c2d0c2d0c100d100d100c110c100d100d100c100d100c110c100d100c110c100d100c110c2d0c100d100c110c110c100d100c2d0c110c100d100c110c100d100d100d100c100d100d100c100d100c110d0f0d100d100c2d0d2c0c2d0d100d100c100d100c000d05"
TEMP_19 = "2600bc01703b0d0f0d2c0d100c110c100d100c110d0f0d100c110c100d100c110c2d0d0f0d100d100c100d100d100c110c2d0d2c0c2d0d100c100d2c0d100c110c100d100c110c100d100c110c100d100c110c100d100e0f0c100e0f0d100c110c100d100c110c100d100c110c100d100c110c100d100c110c2d0d2c0c110c100d100c110c100d000148703b0d100c2d0c110c100d100c110c100d100c110c100d100d100c100e2b0d100c110c100d100d100c110c100d2c0d2c0d2c0d100d100c2d0d100c100d100c110c100d100c110c100d100c110c100d100c110c2d0c110c100d2c0d2c0d2c0e0f0c110c100e2c0c2d0c100d100c2d0d100c110c100d100c100d100d100c110c100d2c0d2d0c2d0d2c0c2d0c110c2d0c100d2c0d2d0c100d2c0d2c0d100d100c100d100d100c110d0f0d100c110c100d100c110c100d2c0d2c0d2d0d0f0d100c110c100d100c110c100d100c110c2d0c2d0c2d0c110c100d100c110d0f0d100c110c100d100c110c100d100d100c100d100c110c2d0c110c100d100c110c100d100c2d0c110d0f0d100c110d100c100d100c110c100d100c110c100d100c110c100d100d100c110c100d100c2d0c110c100d100c000d05"
TEMP_20 = "2600bc01703b0c100d2d0c100d100c110c100d100d100c100d100c110c100d100c2d0d100d0f0d100c110c100d100d100c2d0d2c0c2d0d100c100d2c0d100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c110c100d100c100d100d100c2d0d2c0d100c100d100c110c100d000148703b0d100c2d0c110c100d100d100c100d100d100c100d100c110c100d2d0d0f0d100c110c100d100c110c100d2c0d2c0e2c0c100d100c2d0c110d0f0d100c110c100d100c110c100d100d100c100d100d100c2d0d100d0f0d2c0d2c0e2c0c100d100c110c100d100c2d0d100c2d0d0f0d100d100c110c100d100c110c100d100c2d0d2c0d2c0d2c0d2d0c100d2c0e0f0c2d0d2c0d100c2d0c2d0d100c100d100c110c100d100d100c110c100d100c100e0f0d100c2d0c2d0d2c0e0f0c110c100d100c110c100d100c110c100d2c0d2c0d2d0c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d2c0d100d100c100d100d100c100d2d0c100e0f0c110c100d100d100c100d100d100c110c100d100c110c100d100c110c100d2d0d0f0d100c2d0d100c100d100c000d05"
TEMP_21 = "2600bc016f3b0d100c2d0c110c100d100c110c100d100c110c100d100c110c100d2d0c100d100c110c100d100c110c100e2b0d2c0d2d0c100d100c2d0c110c100e0f0c110c100d100d100c100d100d100c100d100d100c100e0f0d100c110c100d100c100d100d100c110c100d100c110d0f0d100c110c100d2c0d2c0d100d100c110c100d100c000149703b0c100d2c0e0f0d100c110c100d100c110c100d100c110c100d100d2c0c110c100e0f0c110c100d100d100c2d0c2d0d2c0d100c100d2c0d100d100c100d100d100c110c100d100c110c100d100c110c100d2c0d100d100c2d0c2d0c2d0c110c100d100c2d0d100c2d0d100d2c0c100e0f0c110c100d100c110c100d100c110c2d0c2d0c2d0c2d0d2c0d100c2d0d100c2d0d2c0c110c2d0c2d0d100c100d100d100c100d100c110c100d100c110c100d100c110c2d0c2d0c2d0c110c100d100d100c100d100d100c100d100c2d0d2c0d2c0d100c110c100d100d100c100d100c110c100d100c110c100d100d100c100d100d2c0d100c110c100d100c110c100d2c0d100c110c100d100d100c110c100d100c110c100d100c110c100d100c110c110c100d100c2d0c110d2c0c100d100c110c000d05"
TEMP_22 = "2600bc01703b0c110c2d0d0f0d100c110c100d100c110c100d100c110c100d100c2d0d100c110d0f0d100c110c100d100c2d0c2d0c2d0d100c100d2d0c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100d100c110d0f0d100c100d100d100c2d0c2d0d100d0f0d100c110c100d000148703b0d100c2d0c110c100d100c110c100d100c110c100d100c110c100d2c0d100d100c110d0f0d100d100c100d2c0d2c0d2d0c100d100c2d0c110c100d100c110c100d100c110c100d100c110c100d100c110c2d0c100d100c2d0d2c0d2c0d100d100c110c100c2d0d2c0d100d2c0c110c110c100d100c100d100d100c110c100c2d0d2c0e2c0c2d0c2d0d0f0d2d0c100d2c0e2b0d100c2d0d2c0d100c110c100d100c110d0f0d100c110c100d100c110c100d100c2d0d2c0d2c0e0f0d100c100d100d100c100d100c110c100d2c0d2d0d2c0c100e0f0c110c100d100d100c100d100d100d0f0d100d100c110c100d100c110c2d0c100d100c110c100d100c110c2d0c100d100d100c110c100d100c110c100d100c110c100d100d100c100d100c110c100d2d0c2d0d0f0d2d0d0f0d100c110c000d05"
TEMP_23 = "2600bc01703a0d100c2d0d100c110c100d100c110c100d100c110c100d100c110c2d0c100d100c110c100d100c110c100d2c0d2c0d2d0c100d100c2d0c110c100d100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d2c0d2c0d100d100c110c100d100c000149703b0c100d2d0c100d100c110c100d100c110c100d100c110c100d100c2d0c110c100d100c110c100d100c110c2d0c2d0c2d0c110c100d2c0d100d100c100d100d100c110c100d100c110c100d100c110c100d2c0d100c110c2d0c2d0c2d0c110c100d100c2d0c2d0d2c0d100c2d0c110c100d100c110c100d100d100c100d100c2d0d2c0d2c0d2c0d2d0c100d2c0d100c2d0d2c0d100c2d0c2d0d100c110c100d100c110c100d100c110c100d100c110c100d100c2d0c2d0c2d0d100c110c100d100c110c100d100c110c100d2c0d2c0d2d0c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d2d0c100d100c110c100d100c100d2d0c100d100c110c100d100d100c100d100d100c110c100d100c110c100d100c110c100d100c110c2d0c2d0c110c100d100c000d05"
TEMP_24 = "2600bc01703b0c100d2c0d100c110c100d100c110c100d100c110c100d100c110c2d0c100d100d100c100d100d100c100d2d0c2d0c2d0c110c100c2d0d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100d100c100d100c110c100d2c0d2d0c100d100c110c100d100c000149703b0c100d2d0c100d100c110c100d100c110c100d100c110c100d100c2d0c110c110c100d100c100d100d100c2d0c2d0c2d0d100c100d2c0d100d100c110c100d100c110c100d100c110c100d100c110c100d2c0d100c110c2d0c2d0c2d0c110c100d100c110c100d100c2d0d2c0d100c110c100d100c110c100d100c110c100d2d0c2d0c2d0c2d0c2d0c110c2d0c100d2c0d2d0c100d2c0d2c0d100c110c100d100d100c100d100c110c100d100c110c110c100c2d0d2c0d2c0d100d100c100d100d100c110c100d100c110c2d0c2d0c2d0c100d100d100c110c100d100c100d100d100c110c100d100c110c100d100c110c2d0c100d100c110c100d100c110c2d0c110c100d100c110c100d100c110c100d100c110c100d100d100c110c100c110c110c2d0c100d2c0d2d0c100d100c110c000d05"

#configuraciones del broadlink RM4C mini
DEVTYPE = 0x6539
HOST = "192.168.100.53"
PORT = 80
MAC = "24dfa7501214"


# Fetch the service account key JSON file contents
cred = credentials.Certificate('./energy-coach-firebase-adminsdk-wxvhm-d5099bd43d.json')

# Initialize the app with a service account, granting admin privileges
firebase_admin.initialize_app(cred, {
    'databaseURL': 'https://energy-coach-default-rtdb.firebaseio.com/'
})

# As an admin, the app has access to read and write all data, regradless of Security Rules

# Get a database reference to our posts
ref = db.reference('recomendation')import broadlink
import time
import firebase_admin
from firebase_admin import credentials
from firebase_admin import db


#TURN_OFF= "2600bc01703a0d100c2d0c100d100c100d100c110c100d100d0f0d100d100c100d2c0d100c100e0f0c110c100d100c100e2b0d2c0d2c0d100c100d2c0d100c110c100d100c100e0f0c100d100d100c100d100c100d100d100c100d100c110c100d100c100d100c110c100d100c100d100d100c100d100c100d2c0d2c0d100c100d100d100c100d000147703b0c100d2c0d100c110c100d100c100d100c110d0f0d100c100d100c2d0c100d100d100c100d100c110c100d2c0d2c0d2c0c110c100d2c0d100c100d100c100d100d100c100d100c100d100d100c100d100c100d100c110c2d0c100d2c0d100c100d100c100d2c0d2c0d100c2d0d100c100d100c100d100c110c100d100c100d2c0e2b0d2c0d2c0d2c0d2c0e0f0c2d0d0f0d100c2d0c100d2c0d100d100c100d100c100d100c110c100d100c100d100c110c100d2c0d2c0d2c0d100c100d100c110c100d100c100d100c100d2c0d2c0d2c0d100c110c100d100c100d100d100c100d100c100d100c110c100d100c100d100c2d0c100d100d100c100d100c100d2c0d100d100c100d100c110c100d100c100d100d100c100d100c100d100d100c100d100c2d0c100e0f0d2c0d2c0d100c2d0c000d05"
#TURN_ON = "2600bc016f3b0d100c2c0d100d100c100d100c100d100d100c100e0f0c110c100d2c0e0f0c100d100d0f0e0f0d100c100d2c0d2c0d2c0d100c100d2c0d100d100c100d100c100d100d100d0f0d100c100d100c110c100d100c100d100c110d0f0d100c100d100d100c100d100c100d100d100c100d100c100d2c0d2c0d100d100c100e0f0d0f0d0001486f390f100c2c0d100d100c100d100c100d100e0f0c100d100c110c100d2c0d100c100e0f0c100d100d100c100d2c0d2c0d2c0d100c100d2c0d100d100c100d100d0f0d100d100c100d100c100d100c100d100d2c0d100c100d2c0d100c2d0c100d100d100c100d2c0d2c0d100c2d0c100d100d0f0d100d100c100d100c110c100d2c0d2c0d2c0d2c0d2b0e2c0d100c2d0d0f0d110b2d0c100d2c0d100c110c100d100c100d100c110c100e0f0c100d100c110c100d2c0d2c0d2c0d100c100d100c110c100d100c100d100c100d2c0e2b0d2c0d100c100d100e0f0c100d100c100d100e0f0c100d100d100c100d100c100d100d2c0d100c100d100c100d100c100d2d0c100d100c100d100d100c100d100c110c100d100c100d100d100c100d100d100c2c0d2c0d100d100c2d0c2d0d0f0d2c0d000d05"
#TEMP_UP = "2600bc0171390d100c2d0c100d100d100c100d100c100d100d100c100d100c100d2c0e0f0c110c100d100c100d100d100c2c0e2b0d2c0d100c110c2d0c100d100c100d100c110c100d100c100d100c110c100e0f0c100d100c100d100d100d0f0d100c110c100d100c100d100c110c100d100c100d100c110c2c0d2c0d100d100c100d100c100d0001486f3b0c110c2c0d100d100c100d100c100d100d100c100d100c110c100d2c0d100c100d100c100d100c110c100d2c0d2c0c2d0d100c100d2c0d100c110c100c110c100d100c100d100c110c100d100c100d100c2d0c100d100d2c0d100c2d0c100d100c100d100c2d0c2d0c110c2c0d100d100c100d100c100d100d100c100d100c2d0c2d0c2d0d2c0c2d0d2c0c100d2c0d100c100d2c0e0f0c2d0c110c100d100c100d100c110c100d100c100d100c110c100d100c2d0d2c0c2d0c100d100c100d100d100c100d100c100d100c2d0c2d0c2d0c100d100d100c100d100c100d100c110c100d100c100d100d100c100d100c100d2c0d100c110c100d100c100e0f0c2d0c110c100d10100c0d100c110c100d100c110c100d100c100d100c110c100d100c2d0c2d0c100d100d2c0c2d0c100d2c0d000d05"
#TEMP_DOWN = "2600bc016f3b0c100d2c0d100d100c100d100c100d100d100c100d100c100d100c2d0d100c100d100c100e0f0c110c100d2c0d2c0c2d0d100c100d2c0d100c100d100c110c100d100c100d100c110c100d100c100d100c110d0f0d100c100d100c110c100d100c100d100c100d100d100c100d100c110d0f0d2c0d2c0c110c100d100c100d100c000148713a0c100d2c0d100c100d100c110c100c110c100d100c100d100d100c2d0c100d100c100d100d100c100d100c2d0d2c0c2d0d0f0d100c2d0d0f0d100d100c100d100c100d100d100c100d100c100d100c110c2d0c100d100c2d0d0f0d2c0d100c110c100c2d0d100c2d0d0f0d2c0d100c100d100c110c100d100c100d100c100d2d0c2c0d2c0d2c0d2c0d2c0d100c2d0c110c100d2c0d100c2d0d0f0d100c100d100c110c100d100c100e0f0c110c100d100c100d2c0e2b0e2b0d100c100d100c110c100d100c100d100d100c2c0d2c0d2c0d100d100c100d100c100d100c110c100d100c100d100c110c100d100c100d100d2c0c110c100d100c100d100c110c2d0c100d100c100d100d100c100d100c110c100d100c100d100d100c100d100c100d2c0d100c110c100d2c0d2c0d100c2d0c000d05"
TURN_OFF= "2600bc016d3d0b110d2d0a100b130c100d100a130b120b100d110c1009130a15092a10100b110b130a1209130a120d0f0c2e0b2d09310c110b120a2d0c1209150a110b110a130b100d100d110d0f0b120a120c120b0f0e100a110d110a110c100d100e0f0b120b1408120c100b120a130a120b110c120b100d2d0a2e0d100c120b100b120b120a0001586f3a0d100d2d0d100c110b100c1109130d110b110a110d0f0c12091409300b120a120a130b100d100b120b110c2d09310a2e0d0f0c110a2f0b110b130a100a140a130b120a110d110c0f0c110b120b130a130a1209110d100e2c0a120b130a12091409130a2d09120e11092e0d2d0c110c100c110b120a130a110d110a110d0f0c2d0d2d0d2c0d2c0c2e0b100c2e0d100a2e0b1409130a110c100b120b1309120b120b110b120b110b110b120c100a130b120a130a2f0a2e0b2e0b110b130a120b120a130a110d0f0c1209130b2d0e2b0c2e0b100d100c120b100b120a130d0e0d110a140a1009150b100a140a120b130a100e2b0c110b100c120b110c1607100c2d0a140a120b110b120b110c100c1209130915091409140a0f0d110d100b110a120c100a300c2c0b2e0f2c09110c2d0c2d0c000d05"
#turn on at 22 celsius
TURN_ON = "2600bc01703b0e0e0d2c0d100d100d100c100d100d100e0e0d100d100e0f0e0e0d2c0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e2b0e2b0f2a0f0e0e0f0e2b0e0f0e0e0f0e0e0f0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e0e0f0e2b0e2b0e0f0e0e0f0e0e0f0e0e0f00014772390e0e0f2a0f0e0e0f0e0f0e0e0e0f0e0f0e0e0f0e0e0f0e0e0f0e0e2b0e0f0e0f0e0e0e0f0e0f0c100f0e0d2c0e2b0e2b0f0e0e0f0c2d0e0f0e0e0d100d100e0e0d100d100c100d100d100c110c100d100c2d0e0f0e0e0d2d0e2b0c2d0c100d100d100c110c2d0c2d0c110c2d0c100d100d100c100d100d100c100d100d100c2d0d100c100d2d0c100d100d2c0d100c2d0d100c2d0c2d0c110c100d100d100c100d100d100c100d100d100c110c100d100d100c2d0c2d0c2d0d100c100d100d100c100d100d100c110c100d2c0d2c0d2d0c100d100d100c100d100d100c100d100d100c100d100d100d100c100d100c110c2d0c100d100d100c110c100d100c2d0d100c110c100d100d100c100d100d100c110c100d100c110c100d100d100c110c100d100c2d0c110c100d100d100c100d000d05"
#TEMP_UP = "2600bc016c3f0a130a2f0a110b110d110a110a130b120c100b120b110b120b120b2d0e0f0c100b120a140a110b110c100e2c09310a2d0c120b100e2c0a130a120b130a1109130a1409130a1109140d100a1409130a120a120b120a120b130a110b120b1209130a130a130a110a130b110b120a120f0e0a120c2d0b2d0e0f0c110c100b130a110c00015771390c130a2d0d100b110b130a130a1309100d110b120b120a110a140a2f0a100d100c120b100d100d100b100d2d0c2e0a2f0a110d0f0e2c0a1408140b100d110c100a140a120a110c100d100d110a120b110b2e0c100c120b3008120c110a120b130a110b100c2e0a130b2c0d2e0b120b100b120a130b110a130b1508100d100b2f0a2e0c2d0b2f0a2d0c120b2e0b120a2e0c100c110a130b130b110a110b1209140a130a100d110d100b110b120b1209120c100d2d0b2e0a2e0d100d1108150a130a1309100d100b1309140e290c2d0b2e0d110c100b110914091508110d100d0f0e1009140a120a15091209150b0f0c100d2b0c120d100a140a100c130a100b2f0c100c130a100c100a140a110c100c1309120d100c110a130a130a100d120a110b2d0d120b100c100b130a2d0c2d0c2d0d000d05"
#TEMP_DOWN = "2600bc016f3c0b110c2d0c110b110c1209120b110c120b100c110d100c100d100b2d0c100d100d100d110a1209130b110c2c0e2c0f2a0b120d0e0f2a0e100c1009140a120d100c110b120a110c110a120c110c100c110b120b110b120c1109120a1509110b130b110c110b100c120a130a110b120c100d100d2b0c31091009140b100d110c0f0c0001586f3c0d100c2c0c100c110c110c100a130b120b110b120a110d100d100b2e09130c100c110d0f0d0f0e100b100e2c0c2f0a2d0a130b100d2c0d100f0e08150b110a120c100e100d100d100a110c100c100e1109300a110d110a2e0a130a130a120c100c100d100b110c2d0d100c2d0c110a120c1009140b120b100d110c0f0c110a2f0d2b0f2c08310b2d0d100c2d0c100c2e0c100a140a110b120c100b120c100c120b110a1706120b110b110c100c110c120a110a2f0b2f0b2d0d100b100d110b1209130a130b110c100d100b2e0b2f092e0c110d110a120b110b120c0f0b120c100c110d100d0f0d100a120e100a110d100b2e0b12091509110d10091308150a2f0b110d100c110b110c100d0f0d100c110a1707110b120c100c100a140a120b110c2d0a120c2d0c100d2d0c110a2e0d2c0a000d05"
TEMP_16 = "2600bc016f3b0d100c2d0d100c110c110c100c100d100d100d100c100d100d100d2c0d0f0d110c100c110c100d100d100c2d0c2d0c2d0d100c110e2a0d100d100d100c100d100d100c100d100d100c110d0f0d110b110c100c110c110c100d100c110c110d0f0d100b110d100d110b110c100d110c100c110d2b0f2a0d100d100c110c100d100d000148703b0e0f0c2d0d100c100d100d100c100d100d100c100d100d100c110c2d0d0f0d100d100c100d110d0f0c110c2d0c2d0c2d0d100c100d2c0d100d100c110c100d100d100c100d100d100c110c100d100c110c2d0c100d100c2d0d2c0d2c0d110c100c100d100d110b110d0f0d2c0e0f0d100c100c110d100d100c100d110c100c2d0c2d0c2d0d2c0d2c0d100c2d0e0f0c2d0d2c0d100c2d0c2d0d100c100e100e0e0c110c100e100c100d0f0d110d0f0c100d100d2c0d2c0e2b0e0f0e0f0c110c110c100d110b100d100d110b2d0c2d0d2c0d100c100d100d100d100c100d100c120c0f0d100d100c100d100d100c100e0f0d2c0e0f0c110c110c100d100c100d2d0c100d100d100b120c110c100c100d100d100d110b100d100d100c110c100d100d100c2d0d0f0d2d0d100d0f0d100c100d000d05"
TEMP_17 = "2600bc01703b0c110c2d0d0f0d100d100c100d100d100c110c100d100c110c100d2c0d100d100c110c100d100c110c100e2b0d2c0d2d0c100d100c2d0d100d0f0d100d100c110c100d100c110c100d100c110c100d100d100c100d100c110c110c100d100c110d0f0d100c110c100d100c110c100d100d100c2d0c2d0d100c100d100c110c100d00014971390e0f0d2c0d100d100c100d100c110c100d100c110c100d100d100c2d0c100d100d100c110c100d100d100c2d0c2d0c2d0d100c100d2c0d100d100c110c100d100d100c100d100c110c100d100d100c100d2d0c100d100c2d0d2c0d2c0d100d100c100d2c0e0f0d100c100d2d0c100d100d100c100e0f0d100c100d100d100c2d0d2c0d2c0e2b0d2d0c100e2b0d100c2d0d2c0d100c2d0c2d0d100c110c100d100c110c100d100c110c100d100d100c110c100d2c0e2b0d2d0c100d100c110c100d100c110c100d100d100c2d0c2d0c2d0d100c100d100d100c100d100d100c110c100d100c110c100d100c110c100d100c2d0d100c100d100d100c110c100d2c0d100d100c100d100d100c110c100d100d100c100d100d100c110d0f0d100c110c100e0f0c2d0d2c0d100d100c100d100d000d05"
TEMP_18 = "2600bc01703b0c100d2c0d100c110c100d100c110c100d100d100c100d100d100c2d0d100d0f0e0f0c110c100d100c110c2d0c2d0d2c0c110d0f0d2c0d100d100d0f0d100d100c110c100d100c110c100d100d100c100d100c110c100d100c110c100d100c110c100d100c110c100d100d100c100d100d100c2d0c2d0d100c100d100c110c100d000148703b0d100c2d0c110d0f0d100d100c100d100d100c100d100d100c100d2d0c100d100d100c100d100c110d0f0d2c0d2c0e2c0c100d100c2d0c110c100e0f0d100c110c100d100c100d100d100c110c100d100c2d0c110c100d2c0d2d0c2d0d0f0d100c110c100d2c0d100d100c2d0c110c100d100c110c100d100c110c100d100c2d0d2c0e2b0d2d0f2a0c100d2c100d0c2d0e2b0d100c2d0d2c0e0f0c110c100d100c110c100d100c110c100d100c110c100d100d2c0c2d0d2c0d100d100c100d100d100c100d100d100c100e2c0c2d0c2d0c100d100d100c110c100d100d100c100d100c110c100d100c110c100d100c110c2d0c100d100c110c110c100d100c2d0c110c100d100c110c100d100d100d100c100d100d100c100d100c110d0f0d100d100c2d0d2c0c2d0d100d100c100d100c000d05"
TEMP_19 = "2600bc01703b0d0f0d2c0d100c110c100d100c110d0f0d100c110c100d100c110c2d0d0f0d100d100c100d100d100c110c2d0d2c0c2d0d100c100d2c0d100c110c100d100c110c100d100c110c100d100c110c100d100e0f0c100e0f0d100c110c100d100c110c100d100c110c100d100c110c100d100c110c2d0d2c0c110c100d100c110c100d000148703b0d100c2d0c110c100d100c110c100d100c110c100d100d100c100e2b0d100c110c100d100d100c110c100d2c0d2c0d2c0d100d100c2d0d100c100d100c110c100d100c110c100d100c110c100d100c110c2d0c110c100d2c0d2c0d2c0e0f0c110c100e2c0c2d0c100d100c2d0d100c110c100d100c100d100d100c110c100d2c0d2d0c2d0d2c0c2d0c110c2d0c100d2c0d2d0c100d2c0d2c0d100d100c100d100d100c110d0f0d100c110c100d100c110c100d2c0d2c0d2d0d0f0d100c110c100d100c110c100d100c110c2d0c2d0c2d0c110c100d100c110d0f0d100c110c100d100c110c100d100d100c100d100c110c2d0c110c100d100c110c100d100c2d0c110d0f0d100c110d100c100d100c110c100d100c110c100d100c110c100d100d100c110c100d100c2d0c110c100d100c000d05"
TEMP_20 = "2600bc01703b0c100d2d0c100d100c110c100d100d100c100d100c110c100d100c2d0d100d0f0d100c110c100d100d100c2d0d2c0c2d0d100c100d2c0d100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c110c100d100c100d100d100c2d0d2c0d100c100d100c110c100d000148703b0d100c2d0c110c100d100d100c100d100d100c100d100c110c100d2d0d0f0d100c110c100d100c110c100d2c0d2c0e2c0c100d100c2d0c110d0f0d100c110c100d100c110c100d100d100c100d100d100c2d0d100d0f0d2c0d2c0e2c0c100d100c110c100d100c2d0d100c2d0d0f0d100d100c110c100d100c110c100d100c2d0d2c0d2c0d2c0d2d0c100d2c0e0f0c2d0d2c0d100c2d0c2d0d100c100d100c110c100d100d100c110c100d100c100e0f0d100c2d0c2d0d2c0e0f0c110c100d100c110c100d100c110c100d2c0d2c0d2d0c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d2c0d100d100c100d100d100c100d2d0c100e0f0c110c100d100d100c100d100d100c110c100d100c110c100d100c110c100d2d0d0f0d100c2d0d100c100d100c000d05"
TEMP_21 = "2600bc016f3b0d100c2d0c110c100d100c110c100d100c110c100d100c110c100d2d0c100d100c110c100d100c110c100e2b0d2c0d2d0c100d100c2d0c110c100e0f0c110c100d100d100c100d100d100c100d100d100c100e0f0d100c110c100d100c100d100d100c110c100d100c110d0f0d100c110c100d2c0d2c0d100d100c110c100d100c000149703b0c100d2c0e0f0d100c110c100d100c110c100d100c110c100d100d2c0c110c100e0f0c110c100d100d100c2d0c2d0d2c0d100c100d2c0d100d100c100d100d100c110c100d100c110c100d100c110c100d2c0d100d100c2d0c2d0c2d0c110c100d100c2d0d100c2d0d100d2c0c100e0f0c110c100d100c110c100d100c110c2d0c2d0c2d0c2d0d2c0d100c2d0d100c2d0d2c0c110c2d0c2d0d100c100d100d100c100d100c110c100d100c110c100d100c110c2d0c2d0c2d0c110c100d100d100c100d100d100c100d100c2d0d2c0d2c0d100c110c100d100d100c100d100c110c100d100c110c100d100d100c100d100d2c0d100c110c100d100c110c100d2c0d100c110c100d100d100c110c100d100c110c100d100c110c100d100c110c110c100d100c2d0c110d2c0c100d100c110c000d05"
TEMP_22 = "2600bc01703b0c110c2d0d0f0d100c110c100d100c110c100d100c110c100d100c2d0d100c110d0f0d100c110c100d100c2d0c2d0c2d0d100c100d2d0c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100d100c110d0f0d100c100d100d100c2d0c2d0d100d0f0d100c110c100d000148703b0d100c2d0c110c100d100c110c100d100c110c100d100c110c100d2c0d100d100c110d0f0d100d100c100d2c0d2c0d2d0c100d100c2d0c110c100d100c110c100d100c110c100d100c110c100d100c110c2d0c100d100c2d0d2c0d2c0d100d100c110c100c2d0d2c0d100d2c0c110c110c100d100c100d100d100c110c100c2d0d2c0e2c0c2d0c2d0d0f0d2d0c100d2c0e2b0d100c2d0d2c0d100c110c100d100c110d0f0d100c110c100d100c110c100d100c2d0d2c0d2c0e0f0d100c100d100d100c100d100c110c100d2c0d2d0d2c0c100e0f0c110c100d100d100c100d100d100d0f0d100d100c110c100d100c110c2d0c100d100c110c100d100c110c2d0c100d100d100c110c100d100c110c100d100c110c100d100d100c100d100c110c100d2d0c2d0d0f0d2d0d0f0d100c110c000d05"
TEMP_23 = "2600bc01703a0d100c2d0d100c110c100d100c110c100d100c110c100d100c110c2d0c100d100c110c100d100c110c100d2c0d2c0d2d0c100d100c2d0c110c100d100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d2c0d2c0d100d100c110c100d100c000149703b0c100d2d0c100d100c110c100d100c110c100d100c110c100d100c2d0c110c100d100c110c100d100c110c2d0c2d0c2d0c110c100d2c0d100d100c100d100d100c110c100d100c110c100d100c110c100d2c0d100c110c2d0c2d0c2d0c110c100d100c2d0c2d0d2c0d100c2d0c110c100d100c110c100d100d100c100d100c2d0d2c0d2c0d2c0d2d0c100d2c0d100c2d0d2c0d100c2d0c2d0d100c110c100d100c110c100d100c110c100d100c110c100d100c2d0c2d0c2d0d100c110c100d100c110c100d100c110c100d2c0d2c0d2d0c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d2d0c100d100c110c100d100c100d2d0c100d100c110c100d100d100c100d100d100c110c100d100c110c100d100c110c100d100c110c2d0c2d0c110c100d100c000d05"
TEMP_24 = "2600bc01703b0c100d2c0d100c110c100d100c110c100d100c110c100d100c110c2d0c100d100d100c100d100d100c100d2d0c2d0c2d0c110c100c2d0d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100c110c100d100d100c100d100c110c100d2c0d2d0c100d100c110c100d100c000149703b0c100d2d0c100d100c110c100d100c110c100d100c110c100d100c2d0c110c110c100d100c100d100d100c2d0c2d0c2d0d100c100d2c0d100d100c110c100d100c110c100d100c110c100d100c110c100d2c0d100c110c2d0c2d0c2d0c110c100d100c110c100d100c2d0d2c0d100c110c100d100c110c100d100c110c100d2d0c2d0c2d0c2d0c2d0c110c2d0c100d2c0d2d0c100d2c0d2c0d100c110c100d100d100c100d100c110c100d100c110c110c100c2d0d2c0d2c0d100d100c100d100d100c110c100d100c110c2d0c2d0c2d0c100d100d100c110c100d100c100d100d100c110c100d100c110c100d100c110c2d0c100d100c110c100d100c110c2d0c110c100d100c110c100d100c110c100d100c110c100d100d100c110c100c110c110c2d0c100d2c0d2d0c100d100c110c000d05"

#configuraciones del broadlink RM4C mini
DEVTYPE = 0x6539
HOST = "192.168.100.53"
PORT = 80
MAC = "24dfa7501214"


# Fetch the service account key JSON file contents
cred = credentials.Certificate('./energy-coach-firebase-adminsdk-wxvhm-d5099bd43d.json')

# Initialize the app with a service account, granting admin privileges
firebase_admin.initialize_app(cred, {
    'databaseURL': 'https://energy-coach-default-rtdb.firebaseio.com/'
})

# As an admin, the app has access to read and write all data, regradless of Security Rules

# Get a database reference to our posts
ref = db.reference('recomendation')

# Read the data at the posts reference (this is a blocking operation)

diccionario=ref.get()
opcion=diccionario['rec']


#dev = broadlink.gendevice(DEVTYPE,(HOST,PORT), MAC)
#dev.auth()
devices = broadlink.discover()
device = devices[0]
device.auth()
#dev.send_data(DATA)

def convert_data(data: str):
    return bytearray.fromhex(data)

def turn_on_AC(device):
    data = convert_data(TURN_ON)
    device.send_data(data)

def turn_off_AC(device):
    data = convert_data(TURN_OFF)
    device.send_data(data)

def temp_16_AC(device):
    data = convert_data(TEMP_16)
    device.send_data(data)

def temp_17_AC(device):
    data = convert_data(TEMP_17)
    device.send_data(data)

def temp_18_AC(device):
    data = convert_data(TEMP_18)
    device.send_data(data)

def temp_19_AC(device):
    data = convert_data(TEMP_19)
    device.send_data(data)

def temp_20_AC(device):
    data = convert_data(TEMP_20)
    device.send_data(data)

def temp_21_AC(device):
    data = convert_data(TEMP_21)
    device.send_data(data)

def temp_22_AC(device):
    data = convert_data(TEMP_22)
    device.send_data(data)

def temp_23_AC(device):
    data = convert_data(TEMP_23)
    device.send_data(data)

def temp_24_AC(device):
    data = convert_data(TEMP_24)
    device.send_data(data)


def control_AC(code: int):
    ans = True
    
    if code == 1:
        #encender aire
       turn_on_AC(device)
    if code == 2:
         #apagar aire
        turn_off_AC(device)
    if code == 3:
        #setear a 16 la temperatura
        temp_16_AC(device)
    if code == 4:
        #setear a 17 la temperatura
        temp_17_AC(device)
    if code == 5:
        #setear a 18 la temperatura
        temp_18_AC(device)
    if code == 6:
        #setear a 19 la temperatura
        temp_19_AC(device)
    if code == 7:
        #setear a 20 la temperatura
        temp_20_AC(device)
    if code == 8:
        #setear a 21 la temperatura
        temp_21_AC(device)
    if code == 9:
        #setear a 22 temperatura
        temp_22_AC(device)
    if code == 10:
        #setear a 23 la temperatura
        temp_23_AC(device)
    if code == 11:
        #setear a 24 la temperatura
        temp_24_AC(device)
    if code == 12:
        print("Standby")
    
    
def listener(event):
        print(event.data)
        dict=event.data
        print(dict['rec'])
        control_AC(int(dict['rec']))  # new data at /reference/event.path. None if deleted
def main():
    #control_AC(int(opcion))    
    firebase_admin.db.reference('/recomendation').listen(listener)
if __name__ == '__main__':
    main()

# Read the data at the posts reference (this is a blocking operation)

diccionario=ref.get()
opcion=diccionario['rec']


#dev = broadlink.gendevice(DEVTYPE,(HOST,PORT), MAC)
#dev.auth()
devices = broadlink.discover()
device = devices[0]
device.auth()
#dev.send_data(DATA)

def convert_data(data: str):
    return bytearray.fromhex(data)

def turn_on_AC(device):
    data = convert_data(TURN_ON)
    device.send_data(data)

def turn_off_AC(device):
    data = convert_data(TURN_OFF)
    device.send_data(data)

def temp_up_AC(device):
    data = convert_data(TEMP_UP)
    device.send_data(data)

def temp_down_AC(device):
    data = convert_data(TEMP_DOWN)
    device.send_data(data)

def control_AC(code: int):
    ans = True
    
    if code == 1:
        #encender aire
       turn_on_AC(device)
    if code == 2:
         #apagar aire
        turn_off_AC(device)
    if code == 3:
        #subir temperatura
        temp_up_AC(device)
    if code == 4:
        #bajar temperatura
        temp_down_AC(device)
    if code == 5:
        print("Standby")
    
def listener(event):
        print(event.data)
        dict=event.data
        print(dict['rec'])
        control_AC(int(dict['rec']))  # new data at /reference/event.path. None if deleted
def main():
    #control_AC(int(opcion))    
    firebase_admin.db.reference('/recomendation').listen(listener)
if __name__ == '__main__':
    main()
             

